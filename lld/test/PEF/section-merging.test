# REQUIRES: ppc
# RUN: clang -target powerpc-apple-classic -c %S/Inputs/file1.c -o %t-file1.o
# RUN: clang -target powerpc-apple-classic -c %S/Inputs/file2.c -o %t-file2.o
# RUN: clang -target powerpc-apple-classic -c %S/Inputs/file3.c -o %t-file3.o
# RUN: lld -flavor pef %t-file1.o %t-file2.o %t-file3.o -o %t.pef -e "main[DS]"
# RUN: llvm-readobj --sections %t.pef | FileCheck %s

# CHECK: Name: .text
# CHECK: SectionKindName: Code
# CHECK: Name: .data

## Test that sections of the same type are properly merged from multiple files
## Each of file1.c, file2.c, file3.c contains:
## - .text section (code for funcN)
## - .data section (dataN variable)
## - .rodata section (rodataN constant)
## The linker should merge all .text sections into one, all .data into one, etc.
