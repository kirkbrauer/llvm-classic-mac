# REQUIRES: ppc
# RUN: clang -target powerpc-apple-classic -c %S/Inputs/sysbeep-test.c -o %t.o
# RUN: lld -flavor pef %t.o -o %t.pef -e main -lInterfaceLib
# RUN: llvm-readobj --file-headers %t.pef | FileCheck %s --check-prefix=HEADER
# RUN: llvm-readobj --sections %t.pef | FileCheck %s --check-prefix=SECTIONS

# HEADER: Format: PEF
# HEADER: Architecture: 0x70777063
# HEADER: ArchitectureName: PowerPC ('pwpc')

# SECTIONS: Name: .text
# SECTIONS: Name: .loader

## Test linking with InterfaceLib (Mac OS Toolbox)
## This test verifies that Toolbox functions like SysBeep can be linked
## InterfaceLib contains most of the classic Mac OS Toolbox APIs
