# REQUIRES: ppc
# RUN: clang -target powerpc-apple-classic -c %S/Inputs/level3/global-data-test.c -o %t.o
# RUN: lld -flavor pef %t.o -o %t.pef -e main
# RUN: llvm-readobj --file-headers %t.pef | FileCheck %s --check-prefix=HEADER
# RUN: llvm-readobj --sections %t.pef | FileCheck %s --check-prefix=SECTIONS

# HEADER: Format: PEF
# HEADER: Architecture: 0x70777063
# HEADER: ArchitectureName: PowerPC ('pwpc')

# SECTIONS: Name: .text
# SECTIONS: SectionKindName: Code
# SECTIONS: Name: .data
# SECTIONS: SectionKindName: Unpacked Data
# SECTIONS: Name: .loader

## Test Level 3.1: Complex Global Data
## This test verifies comprehensive data section handling including:
## - .data section with initialized globals
## - .bss section with uninitialized data
## - .rodata section with const data
## - Static variables
## - Global arrays and structs
## - Proper section alignment and initialization
